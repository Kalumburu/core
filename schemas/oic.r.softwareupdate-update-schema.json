{
  "id": "http://openinterconnect.org/schemas/oic.r.softwareupdate-update",
  "$schema": "http://json-schema.org/draft-04/schema#",
  "description" : "Copyright (c) 2018 Open Connectivity Foundation, Inc. All rights reserved.",
  "title": "software update, update schema",
  "definitions": {
    "oic.r.softwareupdate-update": {
      "type": "object",
      "properties": {

        "nv" :
        {
            "type" : "boolean",
            "description": "The new software version, to replace the current software version",
            "readOnly" : false
        },
        "packageurl" :
        {
            "type" : "string",
            "description": "The url to the software package, can be https/coaps",
            "readOnly" : false
        },
        "action" :
        {
            "type" : "string",
            "description": "scheduled update actions, to be started at time of 'updatetime'",
            "readOnly" : false,
            "enum" : [
                "idle",
                "isac",
                "isvv",
                "upgrading"
            ]
        },
        "updatetime" :
        {
            "type" : "string",
            "description": "scheduled time to do the update action, IETF RFC 3339",
            "readOnly" : false,
            "pattern": "^([0-9]{4})-(1[0-2]|0[1-9])-(3[0-1]|2[0-9]|1[0-9]|0[1-9])$"
        },
        "signage" :
        {
            "type" : "string",
            "description": "used signage of the software pacakage",
            "readOnly" : false,
            "enum" : [
                "vendor"
            ]
        }
      }
    }
  },
  "type": "object",
  "allOf": [
    {"$ref": "http://openconnectivityfoundation.github.io/core/oic.core-schema.json#/definitions/oic.core"},
    {"$ref": "#/definitions/oic.r.firmware-update"}
  ],
  "required": ["packageurl" ]
}
